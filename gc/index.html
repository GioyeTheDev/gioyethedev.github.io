<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Gioyethedev">
    <meta name="description" content="Gioychat - A social media platform to connect with others. Join the conversation now!">
    <meta name="keywords" content="social media, chat, online, Gioychat">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Gioychat - Social Media">
    <meta property="og:description" content="Join Gioychat to connect with others and have fun. Register and chat now!">
    <meta property="og:image" content="https://files.catbox.moe/rcqjn1.png">
    <meta property="og:url" content="https://gioyethedev.github.io">
    <meta name="theme-color" content="#0078D7">
    <link rel="icon" href="https://files.catbox.moe/rcqjn1.png">
    <title>Gioychat - Social Media</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/7.css/dist/7.css">
    <style>
        /* Style definitions remain unchanged */
    </style>
</head>
<body>

<div class="container">
    <h1>Welcome to Gioychat</h1>
    
    <!-- Tabs for Login and Register -->
    <div class="tabs">
        <div class="tab active" onclick="switchTab('login')">Login</div>
        <div class="tab" onclick="switchTab('register')">Register</div>
    </div>
    
    <!-- Login Form -->
    <div id="login" class="tab-content active">
        <div class="form-container">
            <input type="text" placeholder="Username">
            <input type="password" placeholder="Password">
            <button onclick="submitPost()">Login</button>
        </div>
    </div>
    
    <!-- Register Form -->
    <div id="register" class="tab-content">
        <div class="form-container">
            <input type="text" placeholder="Username">
            <input type="email" placeholder="Email">
            <input type="password" placeholder="Password">
            <button onclick="submitPost()">Register</button>
        </div>
    </div>

    <!-- Feed Section -->
    <div id="feed">
        <h2>Feed</h2>
        <!-- Placeholder for Feed Content -->
        <div id="feed-content">
            <!-- Posts will be dynamically loaded here -->
        </div>
    </div>
</div>

<script>
    // Function to switch between Login and Register tabs
    function switchTab(tabName) {
        const tabs = document.querySelectorAll('.tab');
        const contents = document.querySelectorAll('.tab-content');
        
        tabs.forEach(tab => {
            tab.classList.remove('active');
        });
        
        contents.forEach(content => {
            content.classList.remove('active');
        });
        
        document.getElementById(tabName).classList.add('active');
        document.querySelector(`.tab[onclick="switchTab('${tabName}')"]`).classList.add('active');
    }

    // Simulating loading posts (Preload and Load)
    function loadFeed() {
        const feedContent = document.getElementById("feed-content");

        // Simulated API response with posts (replace with real API data in production)
        const posts = [
            { id: 1, content: "This is a valid post!" },
            { id: 2, content: "This post contains a harmful character \x00" }, // Invalid content (control character)
            { id: 3, content: "This post contains a very bad word dick" },  // Inappropriate content (word)
            { id: 4, content: "Another valid post!" }
        ];

        posts.forEach(post => {
            if (isValidPost(post.content)) {
                const postElement = document.createElement('div');
                postElement.classList.add('post');
                postElement.textContent = post.content;
                feedContent.appendChild(postElement);
            }
        });
    }

    // Validate if the post content is valid
    function isValidPost(content) {
        // Check for control characters that could break JSON
        const controlCharacters = /[\x00-\x1F\x7F]/g;
        if (controlCharacters.test(content)) {
            alert("This post contains invalid characters!");
            window.location.href = "https://gioyethedev.github.io/rules";  // Redirect to an existing rules page
            return false;
        }
        
        // Inappropriate word check (simple example)
        const inappropriateWords = ["dick", "ass", "shit", "fuck"]; // List of inappropriate words
        const regex = new RegExp(`\\b(${inappropriateWords.join('|')})\\b`, 'i');
        if (regex.test(content)) {
            alert("This post breaks the rules!");
            window.location.href = "https://gioyethedev.github.io/rules";  // Redirect to the rules page
            return false;
        }

        return true;
    }

    // Load the feed when the page loads
    window.onload = loadFeed;
</script>

</body>
</html>